"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[884],{6024:function(e,t,n){n.d(t,{r:function(){return r},y:function(){return o}});var r="cc8aceddc1acb4be5d6024b16563f8b2",o="https://image.tmdb.org/t/p/w500"},2884:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var r=n(9439),o=n(2791),c=n(1087),u=n(5861),a=n(7757),i=n.n(a),s=n(1243),l=n(6024);s.Z.defaults.baseURL="https://api.themoviedb.org/3/";var f=function(){var e=(0,u.Z)(i().mark((function e(t){var n,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.get("".concat("search/movie","?api_key=").concat(l.r,"&query=").concat(t,"&language=").concat("en-US","&include_adult=false"));case 3:return n=e.sent,r=n.data,o=r.results,console.log(o,"variable"),e.abrupt("return",o);case 10:e.prev=10,e.t0=e.catch(0),console.log("Something wrong with API",e.t0.message);case 13:case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),h=n(7689),d=n(184),p=function(e){var t=e.onSubmit,n=(0,c.lr)(),o=(0,r.Z)(n,2),u=o[0],a=o[1],i=u.get("query")||"",s=(0,h.s0)();return console.log(i,"query"),(0,d.jsx)("div",{children:(0,d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==i?(t(i),s("/movies?query=".concat(i)),console.log("Beauty noting")):console.log("empty")},children:[(0,d.jsx)("input",{type:"text",value:i,onChange:function(e){return a({query:e.target.value})}}),(0,d.jsx)("button",{type:"submit",children:"Search"})]})})},v=function(){var e=(0,c.lr)(),t=(0,r.Z)(e,1)[0].get("query")||"",n=(0,o.useState)([]),u=(0,r.Z)(n,2),a=u[0],i=u[1],s=(0,o.useState)(""),l=(0,r.Z)(s,2),h=l[0],v=l[1];return console.log(t,"query"),(0,o.useEffect)((function(){return""===t?void 0:v(t)}),[t]),(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{children:"Movie Search"}),(0,d.jsx)(p,{onSubmit:function(){f(h).then((function(e){i(e)})),console.log(a,"movies")}}),a.map((function(e){return(0,d.jsx)(c.rU,{to:"./".concat(e.id),children:(0,d.jsx)("h3",{children:e.title})},e.id)}))]})}}}]);
//# sourceMappingURL=884.4a459267.chunk.js.map